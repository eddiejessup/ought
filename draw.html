<!DOCTYPE html>
<meta charset='utf-8'>
<style>
  .node {
    stroke: #fff;
    stroke-width: 1.5px;
  }

  .link {
    stroke: #999;
    stroke-opacity: .6;
  }
</style>

<body>
  <button type='button' id='pause'>Play</button>
  <button type='button' id='reset'>Reset</button>
  x: <input type='text' name='x' id='x'>
  y: <input type='text' name='y' id='y'>
  <button type='button' id='create'>Create</button>

  <svg height='800' width='1200'>
  </svg>

  <script src='//cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js'></script>
  <script src='https://code.jquery.com/jquery-2.1.4.min.js'></script>
  <script src='draw.js'></script>
  <script>
    $(document).ready(function() {
      var pauseTime = 500;

      function startIteration() {
        interval = setInterval(function() {
            graph.iterate();
            graph.render();
        }, pauseTime);
      }

      function toggleIteration() {
        if (isPlaying) {
          clearInterval(interval);
          isPlaying = false;
          $('#pause').text('Play');
        } else {
          startIteration();
          isPlaying = true;
          $('#pause').text('Pause');
        }
      }

      function createGraph() {
        x = $('#x').val();
        y = $('#y').val();
        graph.clear();
        graph.create(x, y);
        graph.render();
      }

      $('#pause').on('click', toggleIteration);
      $('#reset').on('click', createGraph);
      $('#create').on('click', createGraph);

      var isPlaying = false;
    });
  </script>
</body>
